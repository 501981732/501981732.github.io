<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL从入门到放弃 | gblw</title>
    <meta name="description" content="一个前端小学生">
    <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
    
    <link rel="preload" href="/assets/css/0.styles.ac99ad03.css" as="style"><link rel="preload" href="/assets/js/app.2e26f941.js" as="script"><link rel="preload" href="/assets/js/8.178a8915.js" as="script"><link rel="prefetch" href="/assets/js/1.9abbfca6.js"><link rel="prefetch" href="/assets/js/10.f5aa46b0.js"><link rel="prefetch" href="/assets/js/11.8d9fc089.js"><link rel="prefetch" href="/assets/js/12.da5d20a5.js"><link rel="prefetch" href="/assets/js/13.7ccc43bd.js"><link rel="prefetch" href="/assets/js/14.936637cc.js"><link rel="prefetch" href="/assets/js/15.35e22122.js"><link rel="prefetch" href="/assets/js/16.287d904c.js"><link rel="prefetch" href="/assets/js/17.7040011b.js"><link rel="prefetch" href="/assets/js/18.7659f702.js"><link rel="prefetch" href="/assets/js/19.9e094f67.js"><link rel="prefetch" href="/assets/js/20.1a01400b.js"><link rel="prefetch" href="/assets/js/21.a8d12454.js"><link rel="prefetch" href="/assets/js/22.9ebe5653.js"><link rel="prefetch" href="/assets/js/23.f1967079.js"><link rel="prefetch" href="/assets/js/24.174f624d.js"><link rel="prefetch" href="/assets/js/25.c79ed86e.js"><link rel="prefetch" href="/assets/js/26.404bf4b8.js"><link rel="prefetch" href="/assets/js/27.2f1aff94.js"><link rel="prefetch" href="/assets/js/28.062e58ea.js"><link rel="prefetch" href="/assets/js/29.20a59d1a.js"><link rel="prefetch" href="/assets/js/3.c5473e86.js"><link rel="prefetch" href="/assets/js/30.930bca93.js"><link rel="prefetch" href="/assets/js/31.bd2ca60e.js"><link rel="prefetch" href="/assets/js/32.0a5874ee.js"><link rel="prefetch" href="/assets/js/33.feeb8947.js"><link rel="prefetch" href="/assets/js/34.030535d4.js"><link rel="prefetch" href="/assets/js/35.01224053.js"><link rel="prefetch" href="/assets/js/36.9bc679ea.js"><link rel="prefetch" href="/assets/js/37.e5d7c81b.js"><link rel="prefetch" href="/assets/js/38.f7b94dc4.js"><link rel="prefetch" href="/assets/js/39.2e4c3e17.js"><link rel="prefetch" href="/assets/js/4.0acad576.js"><link rel="prefetch" href="/assets/js/40.e6cc435a.js"><link rel="prefetch" href="/assets/js/41.f50d104c.js"><link rel="prefetch" href="/assets/js/42.ee95280a.js"><link rel="prefetch" href="/assets/js/43.e003dc81.js"><link rel="prefetch" href="/assets/js/44.56217885.js"><link rel="prefetch" href="/assets/js/45.22c09290.js"><link rel="prefetch" href="/assets/js/46.c698132a.js"><link rel="prefetch" href="/assets/js/47.7e5929fe.js"><link rel="prefetch" href="/assets/js/48.0dc5263c.js"><link rel="prefetch" href="/assets/js/49.3c6d7ea6.js"><link rel="prefetch" href="/assets/js/5.759e7092.js"><link rel="prefetch" href="/assets/js/50.7d658f31.js"><link rel="prefetch" href="/assets/js/51.fbd8c3c3.js"><link rel="prefetch" href="/assets/js/52.e3eb2ede.js"><link rel="prefetch" href="/assets/js/53.10c05965.js"><link rel="prefetch" href="/assets/js/54.0ecccd4c.js"><link rel="prefetch" href="/assets/js/55.a85740c6.js"><link rel="prefetch" href="/assets/js/56.77e3a891.js"><link rel="prefetch" href="/assets/js/57.67babd87.js"><link rel="prefetch" href="/assets/js/58.856f7672.js"><link rel="prefetch" href="/assets/js/59.d03ef1b7.js"><link rel="prefetch" href="/assets/js/6.8621d802.js"><link rel="prefetch" href="/assets/js/60.b1170398.js"><link rel="prefetch" href="/assets/js/61.97dd3d3c.js"><link rel="prefetch" href="/assets/js/62.b2eedb7b.js"><link rel="prefetch" href="/assets/js/63.fb58a706.js"><link rel="prefetch" href="/assets/js/64.9aa1b041.js"><link rel="prefetch" href="/assets/js/65.faaf9d55.js"><link rel="prefetch" href="/assets/js/66.fbba48ae.js"><link rel="prefetch" href="/assets/js/67.c8593857.js"><link rel="prefetch" href="/assets/js/68.52c632f2.js"><link rel="prefetch" href="/assets/js/69.7a87fda1.js"><link rel="prefetch" href="/assets/js/7.594670aa.js"><link rel="prefetch" href="/assets/js/70.0f9d8114.js"><link rel="prefetch" href="/assets/js/71.d7a82f0c.js"><link rel="prefetch" href="/assets/js/72.fb115c3b.js"><link rel="prefetch" href="/assets/js/73.e56484a9.js"><link rel="prefetch" href="/assets/js/74.ea8bc62e.js"><link rel="prefetch" href="/assets/js/75.5c7a35ab.js"><link rel="prefetch" href="/assets/js/76.3617452b.js"><link rel="prefetch" href="/assets/js/77.8ab6c71a.js"><link rel="prefetch" href="/assets/js/78.b1fe5865.js"><link rel="prefetch" href="/assets/js/79.ea4ba328.js"><link rel="prefetch" href="/assets/js/80.42c16667.js"><link rel="prefetch" href="/assets/js/81.b5141187.js"><link rel="prefetch" href="/assets/js/82.17c01558.js"><link rel="prefetch" href="/assets/js/83.b735e3e5.js"><link rel="prefetch" href="/assets/js/84.15e7b175.js"><link rel="prefetch" href="/assets/js/9.e55349fb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ac99ad03.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">gblw</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/FE/" class="nav-link">前端相关</a></div><div class="nav-item"><a href="/RD/" class="nav-link">后端相关</a></div><div class="nav-item"><a href="/utils/" class="nav-link">环境相关</a></div><div class="nav-item"><a href="/DB/" class="nav-link router-link-active">数据库相关</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">npm包</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/generator-easy-koa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  koa工程生成器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/generator-easy-vue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue多功能搬砖器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/vue-image-base64" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片转base64组件
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/@gblw/vue-x-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue插件@gblw/vue-x-ui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/ls-cache-files" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ls-cache-files缓存静态文件
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/501981732/my-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/FE/" class="nav-link">前端相关</a></div><div class="nav-item"><a href="/RD/" class="nav-link">后端相关</a></div><div class="nav-item"><a href="/utils/" class="nav-link">环境相关</a></div><div class="nav-item"><a href="/DB/" class="nav-link router-link-active">数据库相关</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">npm包</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/generator-easy-koa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  koa工程生成器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/generator-easy-vue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue多功能搬砖器
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/vue-image-base64" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片转base64组件
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/@gblw/vue-x-ui" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue插件@gblw/vue-x-ui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/package/ls-cache-files" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ls-cache-files缓存静态文件
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/501981732/my-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/DB/HTTP从入门到放弃.html" class="sidebar-link">HTTP从入门到放弃</a></li><li><a href="/DB/MySQL从入门到放弃.html" class="active sidebar-link">MySQL从入门到放弃</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#mysql从入门到放弃" class="sidebar-link">MySQL从入门到放弃</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#_1初涉mysql" class="sidebar-link">1初涉mysql</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#_2-数据类型和操作数据表" class="sidebar-link">2 数据类型和操作数据表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#数据表" class="sidebar-link">数据表</a></li></ul></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#_3-约束" class="sidebar-link">3. 约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#外键约束foreign-key" class="sidebar-link">外键约束FOREIGN KEY</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#外键约束的参照操作" class="sidebar-link">外键约束的参照操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#_4-修改数据结构" class="sidebar-link">4.修改数据结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#修改列定义和更名数据表" class="sidebar-link">修改列定义和更名数据表</a></li></ul></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#_5-操作数据表中的记录（增删改查）" class="sidebar-link">5.操作数据表中的记录（增删改查）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#插入-insert" class="sidebar-link">插入 INSERT</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#单张表更新-update" class="sidebar-link">单张表更新 UPDATE</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#单张表删除-delete" class="sidebar-link">单张表删除 DELETE</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#查找-select" class="sidebar-link">查找 SELECT</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#where" class="sidebar-link">WHERE</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#group-by" class="sidebar-link">GROUP BY</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#having" class="sidebar-link">HAVING</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#order-by" class="sidebar-link">ORDER BY</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#limit" class="sidebar-link">LIMIT</a></li></ul></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#_6-子查询与连接" class="sidebar-link">6.子查询与连接</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#子查询" class="sidebar-link">子查询</a></li><li class="sidebar-sub-header"><a href="/DB/MySQL从入门到放弃.html#下面是一个比较完整的例子" class="sidebar-link">下面是一个比较完整的例子</a></li></ul></li><li><a href="/DB/mongoDB从入门到放弃.html" class="sidebar-link">mongoDB从入门到放弃</a></li></ul> </div> <div class="page"> <div class="content"><h2 id="mysql从入门到放弃"><a href="#mysql从入门到放弃" aria-hidden="true" class="header-anchor">#</a> MySQL从入门到放弃</h2> <h2 id="_1初涉mysql"><a href="#_1初涉mysql" aria-hidden="true" class="header-anchor">#</a> 1初涉mysql</h2> <p><a href="https://github.com/501981732/MySQL" target="_blank" rel="noopener noreferrer">学习目录<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>mysql默认端口 3306</li> <li>mysql超级用户 root</li> <li>创建数据库 CREATE DATABASES</li> <li>修改数据库 ALTERE DATABASE</li> <li>删除数据库 DROP DATABASE</li></ul> <ol><li>启动服务 mysql -uroot -p123456 -P3306 -h127.0.0.1（账号root密码123456）</li> <li>SHOW DATABASES</li> <li>use db_name</li> <li>SELECT DATABASE() 显示当前打开的数据库</li></ol> <h2 id="_2-数据类型和操作数据表"><a href="#_2-数据类型和操作数据表" aria-hidden="true" class="header-anchor">#</a> 2 数据类型和操作数据表</h2> <h3 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h3> <hr> <p><a href="https://github.com/501981732/MySQL" target="_blank" rel="noopener noreferrer">学习目录<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li><strong>整型</strong></li></ul> <table><thead><tr><th>数据类型</th> <th>存储范围</th> <th>字节</th></tr></thead> <tbody><tr><td>TINYINT</td> <td>无符号值：-128到127 有符号位0-255</td> <td>1</td></tr> <tr><td>SMALLINT</td> <td>无符号值：-2^15到 2^15 有符号位0-2^16</td> <td>2</td></tr> <tr><td>MEDIUMINT</td> <td>无符号值：-2^23到 2^15 有符号位0-2^23</td> <td>3</td></tr> <tr><td>INT</td> <td>无符号值：-2^31到 2^31 有符号位0-2^32</td> <td>4</td></tr> <tr><td>BIGINT</td> <td>无符号值：-2^63到 2^63 有符号位0-2^64</td> <td>8</td></tr></tbody></table> <blockquote><p>选择合适的类型 例如： 年龄字段（1-100多岁）用TINYINT</p></blockquote> <ul><li><strong>浮点型</strong></li></ul> <table><thead><tr><th>数据类型</th> <th>存储范围</th></tr></thead> <tbody><tr><td>FLOAT[(M,D)]</td> <td>-3.4E+38到-3.4E-38 0和1,。175E-38到3.40E+38    M数字总数，D小数点后位数单精度浮点大概精确到7位小数位</td></tr> <tr><td>DOUBLE[(M,D)]</td> <td>近十倍的单精度浮点的大小</td></tr></tbody></table> <blockquote><p>FLOAT[(7,2)]  总位数7位，小数位2位</p></blockquote> <ul><li><strong>日期时间类型</strong></li></ul> <table><thead><tr><th>列表型</th> <th>存储需求</th></tr></thead> <tbody><tr><td>YEAR</td> <td>1</td></tr> <tr><td>TIME</td> <td>3</td></tr> <tr><td>DATE</td> <td>3</td></tr> <tr><td>DATETIME</td> <td>8</td></tr> <tr><td>TIMESTAM</td> <td>4</td></tr></tbody></table> <pre><code>&gt; DATE  1000年1月1号 9999年12月31号

&gt; DATE  1000年1月1号0点 9999年12月31号23点59分59秒

&gt; TIMESTAM 时间戳  1970年1月1号0点 2037年的一个值

&gt;实际开发中用数字类型取代（用php加密），由于跨时区问题
</code></pre> <ul><li><strong>字符型</strong></li></ul> <table><thead><tr><th>列表型</th> <th>存储需求</th></tr></thead> <tbody><tr><td>CHAR(M)</td> <td>M个字节   0&lt;=M&lt;=255</td></tr> <tr><td>VARCHAR(M)</td> <td>L+1个字节   L&lt;=M 且   0&lt;=M&lt;=65535</td></tr> <tr><td>TINYTEXT</td> <td>L+1个字节   L&lt; 2^8</td></tr> <tr><td>TEXT</td> <td>L+2个字节   L&lt; 2^16</td></tr> <tr><td>MEDIUMTEXT</td> <td>L+3个字节   L&lt; 2^24</td></tr> <tr><td>ENUM('value','value')</td> <td></td></tr> <tr><td>SET('value','value')</td> <td></td></tr></tbody></table> <ul><li>行--记录 列--字段</li></ul> <h3 id="数据表"><a href="#数据表" aria-hidden="true" class="header-anchor">#</a> 数据表</h3> <hr> <ul><li><p><strong>创建数据表</strong></p> <ul><li>数据表（或称呼表）是数据库最重要的组成部分之一，是其他对象的基础</li> <li>行--记录 列--字段</li></ul></li></ul> <ol><li><strong>USE</strong> 数据库名称</li> <li><strong>SHOW DATABASE</strong>  展示数据库</li> <li><strong>SELECT DATABASE</strong> 打开数据库</li> <li><strong>CREATE TABLE [IF NOT EXISTS] table_name(colunm_name data_type,...)</strong> 创建数据库
<ul><li>eg： CREATE TABLE IF NOT EXISTS demo_name( id int,username VARCHAR(20), age TINYINT UNSIGNED,salary FLOAT(8,2) UNSIGNED)  无符号位</li> <li><strong>NULL</strong> ,字段可为空  <strong>NOT NULL</strong> ,字段可为空
<ul><li>eg： CREATE TABLE IF NOT EXISTS demo_name( id int,username VARCHAR(20) NOT NULL,salary FLOAT(8,2) UNSIGNED NULL)</li></ul></li> <li><strong>AUTO_INCREMENT</strong> 自动编号，必须和主键结合使用，默认起始为1，每次增1</li> <li><strong>主键</strong> 每张表只能存在一个，保证记录的唯一性，主键自动为NOT NULL</li> <li><strong>唯一约束  UNIQUE KEY</strong> 也可以保证记录唯一性，可以为NULL 每张表可以存在多个唯一约束</li> <li><strong>默认约束 DEFAULT</strong> 若没有明确某字段赋值， 则自动赋值默认值</li></ul></li></ol> <ul><li><p><strong>查看数据表</strong></p> <ul><li><strong>SHOW TABLES [FROM db_name] [LIKE `PATTERN` | WHERE expr</strong>]查看某数据库中的数据表 当前数据库不会改变</li> <li><strong>SHOW COLUMNS FROM tal_name</strong> 查看数据表结构</li></ul></li> <li><p><strong>插入与查找</strong></p> <ul><li><strong>INSERT [INTO] tab_name [(col_name,...)] VALUES(val,...)</strong> 插入列名的情况下必须全部赋值</li> <li><strong>SELECT expr,... FROM  tab_name</strong> 查找
<ul><li>SELECT * FROM tab_name</li></ul></li></ul></li></ul> <h2 id="_3-约束"><a href="#_3-约束" aria-hidden="true" class="header-anchor">#</a> 3. 约束</h2> <hr> <p><a href="https://github.com/501981732/MySQL" target="_blank" rel="noopener noreferrer">学习目录<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>约束保证数据的完整行和一致性</li> <li>约束按数据列的数目划分：
<ul><li>表级约束</li> <li>列级约束</li></ul></li> <li>约束按功能划分：
<ul><li><strong>NOT NULL</strong> 非空约束</li> <li><strong>PRIMARY KEY</strong> 主键约束</li> <li><strong>UNIQUE KEY</strong> 唯一约束</li> <li><strong>DEFAULT</strong> 默认约束</li> <li><strong>FOREIGN KEY</strong> 外键约束</li></ul></li></ul> <blockquote><ul><li><h3 id="外键约束foreign-key"><a href="#外键约束foreign-key" aria-hidden="true" class="header-anchor">#</a> 外键约束FOREIGN KEY</h3></li></ul></blockquote> <ul><li>外键约束 保证数据一致性，完整性，实现一对一，一对多的关系</li> <li>外键约束的要求：
<ol><li>父表和子表必须使用相同的存储引擎，而且尽职使用临时表
<ul><li>具有外键列的表为<em>子表</em>，子表所参照的表为<em>父表</em></li> <li>编辑数据表的默认存储引擎 MySQL配置文件 default-storage-engine=INNODB</li></ul></li> <li>数据表的存储引擎只能为InnoDB</li> <li>外键列和参照列必须具有相似的数据类型，其中数字的长度或是否有符号必须相同；而字符的长度则可以不同
<ul><li>具有FOREIGN KEY 的那一列为<em>外键列</em>，它所参照的那一列为<em>参照列</em></li></ul></li> <li>外键列和参照列必须创建索引。如果外键列不存在索引的话，MySQL将自动创建索引
<ul><li>参照列没有索引，MySQL才会自动创建，外键列没有的话不会</li></ul></li></ol></li></ul> <blockquote><p>省份表</p></blockquote> <blockquote><div class="language- extra-class"><pre class="language-text"><code>CREATE TABLE PROVINCES(
`id` SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
pname VARCHAR(20) NOT NULL)
</code></pre></div></blockquote> <blockquote><p>users表</p></blockquote> <blockquote><div class="language- extra-class"><pre class="language-text"><code>CREATE TABLE USERS(
`id` SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
username VARCHAR(20) NOT NULL，
pid SNALLINT UNSIGNED，
FOREIGN KEY(pid) REFERENCES privinces (id) )
</code></pre></div></blockquote> <ul><li>关系型数据库，用户表中想存储省份，不用存省份，用省份id， 这里的id就是外键</li> <li>有外键的表users成为子表，参照的表provinces为父表</li> <li>外键pid参照 privinces表中的id，两者必须具有相似的数据类型，其中数字的长度或是否有符号必须相同；而字符的长度则可以不同</li> <li></li></ul> <blockquote><ul><li><h3 id="外键约束的参照操作"><a href="#外键约束的参照操作" aria-hidden="true" class="header-anchor">#</a> 外键约束的参照操作</h3></li></ul></blockquote> <ul><li>表关联之后，父表更新，子表是否更新的操作</li> <li>实际开发中不去定义物理的外键，而是逻辑的外键（使用某种结构而不是FOREIGN KEY这个关键字）</li></ul> <ol><li>CASCADE： 从父表删除或更新且自动删除，或个鞥新子表中匹配的行</li> <li>SET NULL：从父表删除或更新行，并设置子表中的外键列为NULL。如果使用该选项，必须保证子表列没有指定NOT NULL</li> <li>RESTRICT: 拒绝对父表的删除或更新操作</li> <li>NO ACTION: 标准SQL的关键字，在MySQL中与RESTRICT相同</li></ol> <h2 id="_4-修改数据结构"><a href="#_4-修改数据结构" aria-hidden="true" class="header-anchor">#</a> 4.修改数据结构</h2> <hr> <p><a href="https://github.com/501981732/MySQL" target="_blank" rel="noopener noreferrer">学习目录<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>数据表的修改操作：无非就是添加列（ADD），删除列(DROP)，添加约束（ADD），删除约束(DROP)。用的是ALTER，而INSERT是对数据表添加插入记录用的。</p></blockquote> <blockquote><p>修改数据表：</p> <ul><li>针对字段：添加/删除字段，修改列定义，修改列名称等</li> <li>针对约束：添加/删除各种约束</li> <li>针对数据表：数据表的更名(两种)</li></ul></blockquote> <ul><li>添加单列
<ul><li><strong>ALTER TABLE</strong> tbl_name <strong>ADD</strong> [COLUMN] col_name column_definition [FIRST | AFTER col_name]</li></ul></li> <li>添加多列
<ul><li>ALTER TABLE tbl_name ADD [COLUMN] (col_name column_definition,...)</li></ul></li> <li>删除列
<ul><li>ALTER TABLE tbl_name DROP [COLUMN] col_name</li></ul></li> <li>添加/删除主键约束
<ul><li>添加 ALTER TABLE tbl_name ADD [CONSTRAINT[symbol]] PRIMARY KEY [index_type] (index_col_name,...)</li> <li>删除 ALTER TABLE tbl_name DROP PRIMARY KEY</li></ul></li> <li>添加/删除唯一约束
<ul><li>添加 ALTER TABLE tbl_name ADD [CONSTRAINT[symbol]] UNIQUE [INDEX|KEY] [index_name] [index_type] (index_col_name,...)</li> <li>删除 ALTER TABLE tbl_name DROP {INDEX|KEY} index_name</li></ul></li> <li>添加外键约束
<ul><li>添加ALTER TABLE tbl_name ADD [CONSTRAINT[symbol]] FOREIGN KEY [index_name] (index_col_name,...) reference_definition</li> <li>删除 ALTERE TABLE tab_name DROP FOREIGN KEY fk_symbol</li></ul></li> <li>添加/删除默认约束
<ul><li>ALTER TABLE tbl_name ALTER [COLUMN] col_name {SET DEFAULT literal | DROP DEFAULT}
<ul><li>添加：ALTER TABLE users2 ALTER age SET DEFAULT 15;</li> <li>删除：ALTER TABLE users2 ALTER age DROP DEFAULT;</li></ul></li></ul></li></ul> <hr> <h3 id="修改列定义和更名数据表"><a href="#修改列定义和更名数据表" aria-hidden="true" class="header-anchor">#</a> 修改列定义和更名数据表</h3> <ul><li>修改列定义 <strong>MODIFY</strong> <ul><li>ALTER TABLE tbl_name <strong>MODIFY</strong> [COLUMN] col_name column_definition [FIRST| ATTERE col_name]
<ul><li>ALTER TABLE users MODIFY id SMALLINT UNSIGNED NOT NULL FIRST</li></ul></li></ul></li> <li>修改列名称 <strong>CHANGE</strong> <ul><li>ALTER TABLE tbl_name <strong>CHANGE</strong> [COLUMN] old_col_name new_col_name column_definition [FIRST| ATTERE col_name]
<ul><li>ALTER TABLE users CHANGE id ID SMALLINT UNSIGNED NOT NULL FIRST</li></ul></li></ul></li> <li>修改数据表名称 <strong>RENAME</strong> <ol><li>ALTER TABLE tbl_name RENAME [TO|AS] new_tbl_name</li> <li>RENAME TABLE tbl_name TO new_tbl_name [,tbl_name2 TO new_tbl_name2]</li></ol></li></ul> <h2 id="_5-操作数据表中的记录（增删改查）"><a href="#_5-操作数据表中的记录（增删改查）" aria-hidden="true" class="header-anchor">#</a> 5.操作数据表中的记录（增删改查）</h2> <hr> <p><a href="https://github.com/501981732/MySQL" target="_blank" rel="noopener noreferrer">学习目录<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li><p>增</p></li> <li><p>删</p></li> <li><p>改</p></li> <li><p>查</p></li> <li><h3 id="插入-insert"><a href="#插入-insert" aria-hidden="true" class="header-anchor">#</a> 插入 INSERT</h3> <ul><li><p><strong>INSERT</strong> [INTO] tbl_name [(col_name,...)] {<strong>VALUES | VALUE</strong>} ({expr | DEFAULT},...),(...)...</p> <ol><li><p>省略col_name则表示要插入所有字段,所有字段都要赋值否则报错</p></li> <li><p>为自增的字段赋值可用NULL/DEFAULT，他仍遵守递增的规则，此外为有默认值的项赋值DEFAULT代表默认值</p></li> <li><p>所赋值可以为表达式</p></li> <li><p>插入id，name，password,score</p> <blockquote></blockquote> <pre><code> INSERT users_table VALUES(NULL,'wm',123456,DEFAULT)
</code></pre> <blockquote></blockquote> <pre><code> INSERT users_table VALUES(NULL,'wm',123456，DEFAULT),VALUES(3*7,'wm',md('123'),DEFAULT)
</code></pre></li></ol></li> <li><p><strong>INSERT</strong> [INTO] tbl_name <strong>SET</strong> col_name={expr | DEFAULT},...(<em>此方法与第一种方法的区别在于可以使用子查询SubQuery，且只能插入一条数据</em>)</p> <blockquote></blockquote> <p><strong>INSERT</strong> users SET username='wm',password='123'</p></li> <li><p><strong>INSERT</strong> [INTO] tbl_name [(col_name,...)] <strong>SELECT</strong> ...(<em>将查询结果写入到指定数据表中</em>)</p> <blockquote></blockquote> <pre><code>将 user_table 中age大于30的数据中的username写入到test_table表(只有一列)
</code></pre> <p><s>INSERT test SELECT username WHERE age&gt;=30</s></p> <pre><code>INSERT test(username) SELECT username WHERE age&gt;=30
</code></pre></li></ul></li> <li><h3 id="单张表更新-update"><a href="#单张表更新-update" aria-hidden="true" class="header-anchor">#</a> 单张表更新 UPDATE</h3> <ul><li><strong>UPDATE</strong> [LOW_PRIORITY] [IGNORE] table_reference <strong>SET</strong> col_name1={expr1 | DEFAULT} [,col_name2={expr1 | DEFAULT}] ... [WHERE where_condition] (<strong>单张表更新</strong>)</li></ul> <blockquote></blockquote> <pre><code>  UPDATE user_table SET age = age + 5 WHERE id % 2 = 0 (偶数位id age加5)
</code></pre></li> <li><h3 id="单张表删除-delete"><a href="#单张表删除-delete" aria-hidden="true" class="header-anchor">#</a> 单张表删除 DELETE</h3> <ul><li>DELETE FROM tbl_name [WHERE where_condition] (<strong>单张表删除</strong>)</li></ul> <blockquote></blockquote> <pre><code>  DELETE FROM user_table WHERE id = 6
</code></pre></li> <li><h3 id="查找-select"><a href="#查找-select" aria-hidden="true" class="header-anchor">#</a> 查找 SELECT</h3> <ul><li>SELECT select_expr [,select_expr...]</li> <li>[FROM tab_references</li> <li>[WHERE where_condition]</li> <li>[GROUP BY {col_name | position }[ASC| DESC],...]</li> <li>[HAVING where_condition]</li> <li>[ORDER BY {col_name | expr | position} [ASC | DESC],...]</li> <li>[LIMIT {[offset,] row_count | row_count FOOSET offset}]<br>
]</li> <li>select_expr: 查询表达式
<ul><li>每一个表达式表示想要的一列，必须有至少一个</li> <li>多个列用英文逗号隔开</li> <li>型号（ * ）表示所有列，tbl_name.* 可以表示命名表的所有列</li> <li>查询表达式可以使用[AS] alias_name 为其赋予别名</li> <li>别名可用于 GROUP BY ，ORDER BY 或HAVING子句</li> <li>select字段顺序可影响到查找结果出现的顺序，别名也一样会影响</li></ul></li></ul> <blockquote></blockquote> <pre><code>  SELECT id AD user_id, username AS u_name FROM user_table 
</code></pre> <p><strong>分页:</strong></p> <div class="language- extra-class"><pre class="language-text"><code>LIMIT 子句可以被用于强制 SELECT 语句返回指定的记录数。LIMIT 接受一个或两个数字参数。参数必须是一个整数常量。如果给定两个参数，第一个参数指定第一个返回记录行的偏移量，第二个参数指定返回记录行的最大数目。初始记录行的偏移量是 0(而不是 1
获取前五条数据：
SELECT customernumber, customername, creditlimit FROM customers LIMIT 5;
SELECT customernumber, customername, creditlimit FROM customers LIMIT 0,5;


</code></pre></div><hr></li> <li><h3 id="where"><a href="#where" aria-hidden="true" class="header-anchor">#</a> WHERE</h3></li></ul> <blockquote><p>[WHERE where_condition]</p></blockquote> <blockquote><p>对记录过滤，如果没有指定WHERE子句，则显示所有记录</p></blockquote> <blockquote><p>在WHERE表达式中，可以使用MySQL支持的函数或表达式</p></blockquote> <ul><li><h3 id="group-by"><a href="#group-by" aria-hidden="true" class="header-anchor">#</a> GROUP BY</h3></li></ul> <blockquote><p>查询结果分组
[GROUP BY {col_name | position }[ASC| DESC],...]</p></blockquote> <pre><code>SELECT sex FROM user_table GROUP BY sex (*对性别进行分组*)
</code></pre> <ul><li><h3 id="having"><a href="#having" aria-hidden="true" class="header-anchor">#</a> HAVING</h3></li></ul> <blockquote><p>[HAVING where_condition] 分组条件 对某一部分进行分组</p></blockquote> <p><s>SELECT sex FROM GROUP BY sex HAVING age &gt; 35</s></p> <pre><code>SELECT sex,age FROM user_table GROUP BY sex HAVING age &gt; 35 (*用时必须在select查找字段内中出现*)    
SELECT sex FROM FROM user_table GROUP BY sex HAVING count(id) &gt; 2 (*或者聚合函数最大值，最小值等，因为只会出现一个值*)
</code></pre> <ul><li><h3 id="order-by"><a href="#order-by" aria-hidden="true" class="header-anchor">#</a> ORDER BY</h3></li></ul> <blockquote><p>[ORDER BY {col_name | expr | position} [ASC | DESC],...]</p></blockquote> <pre><code>SELECT * FROM user_table ORDERBY id DESC (*降序*) 
SELECT * FROM user_table ORDERBY age id DESC (*按着age降序排列，当age相同时这些相同的数据再按着id降序排列*) 
</code></pre> <ul><li><h3 id="limit"><a href="#limit" aria-hidden="true" class="header-anchor">#</a> LIMIT</h3></li></ul> <blockquote><p>[LIMIT {[offset,] row_count | row_count FOOSET offset}] 限制查询数量</p></blockquote> <pre><code>SELECT * FROM user_table LIMIT 10 (从第一条数据开始返回，一共10条)
SELECT * FROM user_table LIMIT 2,2 (返回第3,4条，数据从第0开始，从第2+1条开始，返回两条) 
</code></pre> <h2 id="_6-子查询与连接"><a href="#_6-子查询与连接" aria-hidden="true" class="header-anchor">#</a> 6.子查询与连接</h2> <hr> <p><a href="https://github.com/501981732/MySQL" target="_blank" rel="noopener noreferrer">学习目录<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li>启动服务 mysql -uroot -p123456 -P3306 -h127.0.0.1（账号root密码123456）</li> <li>SHOW DATABASES 查看数据库</li> <li>use db_name 选中数据库</li> <li>SELECT DATABASE() 显示当前打开的数据库</li> <li>SHOW TABLES 查看当前数据库下的数据表</li> <li>SHOW COLUMNS FROM tbl_name 查看数据表详情</li> <li>SELECT * FROM tbl_name \G: 在命令行中以网格形式呈现</li> <li>SET NAMES gbk  命令行中显示中文</li></ol> <h2 id="子查询"><a href="#子查询" aria-hidden="true" class="header-anchor">#</a> <strong>子查询</strong></h2> <ul><li>子查询：是指在另一个查询语句中的SELECT子句</li></ul> <blockquote><p>SELECT * FROM t1 WHERE column1 = (SELECT column1 FROM t2);其中，SELECT * FROM t1 ...称为Outer Query[外查询](或者Outer Statement),
SELECT column1 FROM t2 称为Sub Query[子查询]。
所以，我们说子查询是嵌套在外查询内部。而事实上它有可能在子查询内部再嵌套子查询。
子查询必须出现在圆括号之间。</p></blockquote> <blockquote><p>子查询可以返回标量，一行，一列，或者子查询</p></blockquote> <ul><li><p><strong>由比较运算符引发的子查询</strong></p> <ol><li>= &gt; &lt;  &gt;=  &lt;= != &lt;=&gt;</li> <li>语法结构 operand comparison_operator  ANY 或SOME或 ALL(subquery)</li> <li>求平均值，并保留两位小数 <strong>SELECT ROUND(AVG(price),2) FROM tbl_name</strong></li> <li>求小于平均值的商品 <strong>SELECT * FROM tbl_name WHERE price &lt;= (SELECT ROUND(AVG(price),2) FROM tbl_name)</strong></li> <li>若子查询返回多个结果的情况下，可以使用ANY SOME ALL修饰</li></ol></li> <li><p><strong>由[NOT] IN引发的子查询</strong></p> <ol><li>语法结构  operand comparison_operator  [NOT] IN (subquery)</li> <li>= ANY 与IN 等效</li> <li>!=ALL 或&lt;&gt;ALL 与NOT IN 等效</li></ol></li> <li><p><strong>由[NOT] IESISTS引发的子查询</strong></p> <ol><li>如果子查询返回任何行，EXISTS 返回TRUE； 否则FALSE</li></ol></li> <li><p><strong>使用INSERT ... SELECT 将查询的结果插入记录</strong></p> <ol><li>某表中商品种类保存的是中文名称，查看该商品表中一共有多少种商品（GROUP BY） <strong>SELECT goods_cate FROM tbl_name GROUP BY goods_cate</strong></li> <li>将某个表中查询的结果插入到另一张表（保存商品表种类）<strong>INSERET tbl_goods_table(cate_name) SELECT goods_cate FROM tbl_name GROUP BY goods_cate</strong></li></ol></li> <li><p><strong>多表更新</strong></p> <ul><li>UPDATA table_references SET col_name1=(expr|DEFAULT) [, col_name2=(expr|DEFAULT)] [WHERE where_condition]</li></ul></li> <li><p><strong>连接</strong></p></li> <li><p>table_reference {[INNER | CROSS] JOIN | {LEFT|RIGHT} [OUTER] JOIN} table_reference ON XX==xx SET XX=XX</p> <ul><li>INNER JOIN,内连接    在MySQL中，JOIN,CROSS JOIN 和INNER JOIN是等价的</li> <li>LEFT [OUTER] JOIN,左外连接</li> <li>RIGHT [OUTER] JOIN,右外连接</li></ul></li> <li><p>数据表参照</p> <ul><li>数据表可以使用tbl_name AS alisa_name或者tbl_name alias_name</li></ul></li> <li><p>内连接</p> <ul><li>INNER JOIN 使用OM关键字来设定连接条件，也可以使用WHERE来代替</li> <li>使用ON设定连接条件，WHERE来进行结果集记录的过滤</li> <li>仅显示连接条件的记录</li></ul></li> <li><p>外连接</p> <ul><li>显示坐标中的全部和由表中符合连接条件的记录</li></ul></li> <li><p>多表链接</p> <ul><li>操作相同</li></ul></li> <li><p>无限分类的数据表设计</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE TABLE tdb_goods_types(
 type_id   SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
 type_name VARCHAR(20) NOT NULL,
 parent_id SMALLINT UNSIGNED NOT NULL DEFAULT 0
); 

</code></pre></div></li> <li><p>多表删除</p> <ul><li>DELETE tbl_name[.<em>] [,tbl_name[.</em>]] ... FROM table_references [WHERE where_condition]</li></ul></li></ul> <hr> <h2 id="下面是一个比较完整的例子"><a href="#下面是一个比较完整的例子" aria-hidden="true" class="header-anchor">#</a> 下面是一个比较完整的例子</h2> <div class="language- extra-class"><pre class="language-text"><code>  -- 1.创建数据表

  CREATE TABLE IF NOT EXISTS tdb_goods(
    goods_id    SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    goods_name  VARCHAR(150) NOT NULL,
    goods_cate  VARCHAR(40)  NOT NULL,
    brand_name  VARCHAR(40)  NOT NULL,
    goods_price DECIMAL(15,3) UNSIGNED NOT NULL DEFAULT 0,
    is_show     BOOLEAN NOT NULL DEFAULT 1,
    is_saleoff  BOOLEAN NOT NULL DEFAULT 0
  );
  --2.插入部分数据
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('R510VC 15.6英寸笔记本','笔记本','华硕','3399',DEFAULT,DEFAULT);
 
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('Y400N 14.0英寸笔记本电脑','笔记本','联想','4899',DEFAULT,DEFAULT);
 
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('G150TH 15.6英寸游戏本','游戏本','雷神','8499',DEFAULT,DEFAULT);
    
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('X550CC 15.6英寸笔记本','笔记本','华硕','2799',DEFAULT,DEFAULT);
 
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('X240(20ALA0EYCD) 12.5英寸超极本','超级本','联想','4999',DEFAULT,DEFAULT);
 
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('U330P 13.3英寸超极本','超级本','联想','4299',DEFAULT,DEFAULT);
 
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('SVP13226SCB 13.3英寸触控超极本','超级本','索尼','7999',DEFAULT,DEFAULT);
 
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('iPad mini MD531CH/A 7.9英寸平板电脑','平板电脑','苹果','1998',DEFAULT,DEFAULT);
 
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES('iPad Air MD788CH/A 9.7英寸平板电脑 （16G WiFi版）','平板电脑','苹果','3388',DEFAULT,DEFAULT);
 
    INSERT tdb_goods (goods_name,goods_cate,brand_name,goods_price,is_show,is_saleoff) VALUES(' iPad mini ME279CH/A 配备 Retina 显示屏 7.9英寸平板电脑 （16G WiFi版）','平板电脑','苹果','2788',DEFAULT,DEFAULT);
    
-- 3.求所有电脑产品的平均价格,并且保留两位小数，AVG,MAX,MIN、COUNT、SUM为聚合函数

   SELECT ROUND(AVG(goods_price),2) AS avg_price FROM tdb_goods;

-- 4.查询所有价格大于平均价格的商品，并且按价格降序排序

   SELECT goods_id,goods_name,goods_price FROM tdb_goods WHERE goods_price &gt; 5845.10 ORDER BY goods_price DESC;
  
-- 5.使用子查询来实现

  SELECT goods_id,goods_name,goods_price FROM tdb_goods 


  WHERE goods_price &gt; (SELECT ROUND(AVG(goods_price),2) AS avg_price FROM tdb_goods) 


  ORDER BY goods_price DESC;


-- 6.查询类型为“超记本”的商品价格

 
   SELECT goods_price FROM tdb_goods WHERE goods_cate = '超级本';

-- 7.查询价格大于或等于&quot;超级本&quot;价格的商品，并且按价格降序排列

 
   SELECT goods_id,goods_name,goods_price FROM tdb_goods 

   WHERE goods_price = ANY(SELECT goods_price FROM tdb_goods WHERE goods_cate = '超级本')

   ORDER BY goods_price DESC;
   
    -- = ANY 或 = SOME 等价于 IN 

   SELECT goods_id,goods_name,goods_price FROM tdb_goods 

   WHERE goods_price IN (SELECT goods_price FROM tdb_goods WHERE goods_cate = '超级本')

   ORDER BY goods_price DESC; 


        -- 8.创建“商品分类”表
        
          CREATE TABLE IF NOT EXISTS tdb_goods_cates(
        
            cate_id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
            
            cate_name VARCHAR(40)
        
          );
        
        -- 9.查询tdb_goods表的所有记录，并且按&quot;类别&quot;分组
        
           SELECT goods_cate FROM tdb_goods GROUP BY goods_cate;
        
        -- 10.将分组结果写入到tdb_goods_cates数据表
        
           INSERT tdb_goods_cates (cate_name) SELECT goods_cate FROM tdb_goods GROUP BY goods_cate;

        -- 11.通过tdb_goods_cates数据表来更新tdb_goods表（连接）多表更新
        
            ---!!!
        
           UPDATE tdb_goods INNER JOIN tdb_goods_cates ON goods_cate = cate_name 
        
           SET goods_cate = cate_id ;
           
           ---!!!

-- 12.通过CREATE...SELECT来创建数据表并且同时写入记录 多表更新一步到位！
 
  -- SELECT brand_name FROM tdb_goods GROUP BY brand_name;

  CREATE TABLE tdb_goods_brands (

    brand_id SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,

    brand_name VARCHAR(40) NOT NULL

  ) SELECT brand_name FROM tdb_goods GROUP BY brand_name;


-- 13.通过tdb_goods_brands数据表来更新tdb_goods数据表(错误) 系统不清楚brand_name是哪个表的

  UPDATE tdb_goods  INNER JOIN tdb_goods_brands ON brand_name = brand_name

  SET brand_name = brand_id;

  -- Column 'brand_name' in field list is ambigous

  -- 正确

          UPDATE tdb_goods AS  g  INNER JOIN tdb_goods_brands AS b ON g.brand_name = b.brand_name
        
          SET g.brand_name = b.brand_id;

-- 14.查看tdb_goods的数据表结构

  DESC tdb_goods; / SHOW COLUMNS FROM tdb_goods



-- 15.通过ALTER TABLE语句修改数据表结构 (因为商品名字现在改为字符型，但是主表中仍然为varchar)

   ALTER TABLE tdb_goods  

   CHANGE goods_cate cate_id SMALLINT UNSIGNED NOT NULL,

   CHANGE brand_name brand_id SMALLINT UNSIGNED NOT NULL;
  
-- 16.分别在tdb_goods_cates和tdb_goods_brands表插入记录

   INSERT tdb_goods_cates(cate_name) VALUES('路由器'),('交换机'),('网卡');

   INSERT tdb_goods_brands(brand_name) VALUES('海尔'),('清华同方'),('神舟');

-- 17.在tdb_goods数据表写入任意记录

   INSERT tdb_goods(goods_name,cate_id,brand_id,goods_price) VALUES(' LaserJet Pro P1606dn 黑白激光打印机','12','4','1849');

-- 18.查询所有商品的详细信息(通过内连接实现) 多表连接

   SELECT goods_id,goods_name,cate_name,brand_name,goods_price FROM tdb_goods AS g

   INNER JOIN tdb_goods_cates AS c ON g.cate_id = c.cate_id

   INNER JOIN tdb_goods_brands AS b ON g.brand_id = b.brand_id\G;

-- 19.查询所有商品的详细信息(通过左外连接实现)

   SELECT goods_id,goods_name,cate_name,brand_name,goods_price FROM tdb_goods AS g

   LEFT JOIN tdb_goods_cates AS c ON g.cate_id = c.cate_id

   LEFT JOIN tdb_goods_brands AS b ON g.brand_id = b.brand_id\G;

-- 20.查询所有商品的详细信息(通过右外连接实现)

   SELECT goods_id,goods_name,cate_name,brand_name,goods_price FROM tdb_goods AS g

   RIGHT JOIN tdb_goods_cates AS c ON g.cate_id = c.cate_id

   RIGHT JOIN tdb_goods_brands AS b ON g.brand_id = b.brand_id\G;

-- 21.无限分类的数据表设计

   CREATE TABLE tdb_goods_types(
     type_id   SMALLINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
     type_name VARCHAR(20) NOT NULL,
     parent_id SMALLINT UNSIGNED NOT NULL DEFAULT 0
  ); 

  INSERT tdb_goods_types(type_name,parent_id) VALUES('家用电器',DEFAULT);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('电脑、办公',DEFAULT);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('大家电',1);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('生活电器',1);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('平板电视',3);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('空调',3);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('电风扇',4);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('饮水机',4);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('电脑整机',2);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('电脑配件',2);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('笔记本',9);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('超级本',9);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('游戏本',9);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('CPU',10);
  INSERT tdb_goods_types(type_name,parent_id) VALUES('主机',10);

-- 22.查找所有分类及其父类

  SELECT s.type_id,s.type_name,p.type_name FROM tdb_goods_types AS s LEFT JOIN tdb_goods_types AS  p ON s.parent_id = p.type_id;
   
-- 23.查找所有分类及其子类

  SELECT p.type_id,p.type_name,s.type_name FROM tdb_goods_types AS p LEFT JOIN tdb_goods_types AS  s ON s.parent_id = p.type_id;

-- 24.查找所有分类及其子类的数目

  SELECT p.type_id,p.type_name,count(s.type_name) AS children_count FROM tdb_goods_types AS p LEFT JOIN tdb_goods_types AS s ON s.parent_id = p.type_id GROUP BY p.type_name ORDER BY p.type_id;

-- 25.为tdb_goods_types添加child_count字段

  ALTER TABLE tdb_goods_types ADD child_count MEDIUMINT UNSIGNED NOT NULL DEFAULT 0;

-- 26.将刚才查询到的子类数量更新到tdb_goods_types数据表

  UPDATE tdb_goods_types AS t1 INNER JOIN ( SELECT p.type_id,p.type_name,count(s.type_name) AS children_count FROM tdb_goods_types AS p 

                                            LEFT JOIN tdb_goods_types AS s ON s.parent_id = p.type_id 
                             
                                            GROUP BY p.type_name 

                                            ORDER BY p.type_id ) AS t2 

  ON  t1.type_id = t2.type_id 

  SET t1.child_count = t2.children_count;


-- 27.复制编号为12,20的两条记录

  SELECT * FROM tdb_goods WHERE goods_id IN (19,20);


-- 28.INSERT ... SELECT实现复制

  INSERT tdb_goods(goods_name,cate_id,brand_id) SELECT goods_name,cate_id,brand_id FROM tdb_goods WHERE goods_id IN (19,20);

-- 29.查找重复记录

  SELECT goods_id,goods_name FROM tdb_goods GROUP BY goods_name HAVING count(goods_name) &gt;= 2;

-- 30.删除重复记录

  DELETE t1 FROM tdb_goods AS t1 LEFT JOIN (SELECT goods_id,goods_name FROM tdb_goods GROUP BY goods_name HAVING count(goods_name) &gt;= 2 ) AS t2  ON t1.goods_name = t2.goods_name  WHERE t1.goods_id &gt; t2.goods_id
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/501981732/my-vuepress/edit/master/DB/MySQL从入门到放弃.md" target="_blank" rel="noopener noreferrer">改善此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/29/2019, 3:28:21 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/8.178a8915.js" defer></script><script src="/assets/js/app.2e26f941.js" defer></script>
  </body>
</html>
