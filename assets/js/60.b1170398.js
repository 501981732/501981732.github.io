(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{248:function(e,n,t){"use strict";t.r(n);var i=t(0),s=Object(i.a)({},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"content"},[t("ul",[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://pm2.keymetrics.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("pm2动态监控文件"),t("OutboundLink")],1)]),e._v(" "),e._m(15)])]),e._v(" "),e._m(16),e._v(" "),e._m(17),t("ol",{attrs:{start:"2"}},[t("li",[t("a",{attrs:{href:"http://pm2.keymetrics.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("pm2"),t("OutboundLink")],1)])]),e._v(" "),e._m(18),t("ol",{attrs:{start:"3"}},[t("li",[t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/rslai/p/8249812.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("CentOS7 linux下yum安装redis以及使用"),t("OutboundLink")],1)]),e._v(" "),e._m(19)]),e._v(" "),e._m(20),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.runoob.com/linux/nginx-install-setup.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("linux安装nginx"),t("OutboundLink")],1)]),e._v(" "),e._m(21)]),e._v(" "),e._m(22)])])},[function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("安装brew https://brew.sh/index_zh-cn")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("brew search "),n("strong",[this._v("nginx")]),this._v("  brew install nginx")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("brew info nginxCentOS7 linux下yum安装redis以及使用")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("nginx -v")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("启动sudo brew services start nginx (默认8080)")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("如果安装过Jenkins的话这里失败 sudo jaunchctl unload /Library/LaunchDaemons/org.jenkins-cj.plist")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("Systemctl start jenkins")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("关闭 sudo brew services stop nginx/nginx/")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("启动nginx 重启nginx -s reload 关闭nginx -s stop")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("nginx 位置/usr/local/etc/")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("验证配置文件是否生效 nginx -t")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("nginx -c xxx.conf 对那个文件生效")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("拷贝配置文件到node目录重新修改")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("xxx服务器端的nginx地址 /usr/local/nginx/sbin/")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("li",[t("p",[e._v("几条绝学")]),e._v(" "),t("ol",[t("li",[e._v("px aux | grep node")]),e._v(" "),t("li",[e._v("lsof -i tcp:8080")]),e._v(" "),t("li",[e._v("kill -9 你的pid")]),e._v(" "),t("li",[e._v("ssh 用户名@地址 (免密码登录)")]),e._v(" "),t("li",[e._v("scp course-map json root@IP地址:/路径")]),e._v(" "),t("li",[e._v("scp -r dist.zip root@101.200.185.250:/opt/:/h/www/static/")]),e._v(" "),t("li",[e._v("zip dist.zip dist /  unzip dist.zip")]),e._v(" "),t("li",[e._v("npm install --production")]),e._v(" "),t("li",[e._v("pm2 start pm2.json")])])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ol",[t("li",[e._v("能够动态监控文件上传 0秒热启")]),e._v(" "),t("li",[e._v("能负载均衡 CPU")]),e._v(" "),t("li",[e._v("内存使用过多 CPU调度台频繁 重启")]),e._v(" "),t("li",[e._v("看 restart个数")]),e._v(" "),t("li",[e._v("pm2 start pm2.json")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("ol",[n("li",[this._v("nginx主要是配置 upstream 和proxy_pass")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v("worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\nhttp {\n    #gzip  on;\n    # 负载均衡\n    upstream mynode {\n        ip_ip_hash;\n        #server 0.0.0.0;\n        #server 0.0.0.0;\n    }\n    server {\n        listen       8080;\n        server_name  localhost;\n\n        location / {\n            #反向代理\n            proxy_pass http://mynode\n        }\n        #error_page  404              /404.html;\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n\n}\n")])])])},function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v('{\n  "apps" : [{\n    "script"    : "app.js",\n    "instances" : "max",\n    "exec_mode" : "cluster",\n    "watch": true\n  }]\n}\n')])])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ul",[t("li",[e._v("yum install redis")]),e._v(" "),t("li",[e._v("service redis start 启动")]),e._v(" "),t("li",[e._v("service redis stop 停止redis")]),e._v(" "),t("li",[e._v("service redis status 查看运行状态")]),e._v(" "),t("li",[e._v("ps -ef | grep redis redis 进程")]),e._v(" "),t("li",[e._v("chkconfig redis on 设置开机自启动")])])},function(){var e=this.$createElement,n=this._self._c||e;return n("li",[n("p",[this._v("[CentOS7 linux下yum安装mysql以及使用]")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ul",[t("li",[e._v("/usr/local/webserver/nginx/sbin/nginx -t")]),e._v(" "),t("li",[e._v("/usr/local/webserver/nginx/sbin/nginx")]),e._v(" "),t("li",[e._v("/usr/local/webserver/nginx/sbin/nginx -s reload            # 重新载入配置文件")]),e._v(" "),t("li",[e._v("/usr/local/webserver/nginx/sbin/nginx -s reopen            # 重启 Nginx")]),e._v(" "),t("li",[e._v("/usr/local/webserver/nginx/sbin/nginx -s stop              # 停止 Nginx")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("li",[t("p",[e._v("liunx 安装node")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("安装V8.x:")]),e._v(" "),t("ul",[t("li",[e._v("#curl --silent --location https://rpm.nodesource.com/setup_8.x | bash -\nV7.x:")])])]),e._v(" "),t("li",[t("p",[e._v("yum安装node.js")]),e._v(" "),t("ul",[t("li",[e._v("yum install -y nodejs")])])])]),e._v(" "),t("p",[e._v("3.查看node.js版本\n- node -v")])])}],!1,null,null,null);s.options.__file="Node上线相关.md";n.default=s.exports}}]);