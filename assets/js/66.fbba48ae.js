(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{214:function(a,s,t){"use strict";t.r(s);var r=t(0),e=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"content"},[t("h3",{attrs:{id:"项目框架搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目框架搭建","aria-hidden":"true"}},[a._v("#")]),a._v(" 项目框架搭建")]),a._v(" "),t("h3",{attrs:{id:"分成设计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分成设计","aria-hidden":"true"}},[a._v("#")]),a._v(" 分成设计")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("└── server\n    ├── controllers # 操作层 执行服务端模板渲染，json接口返回数据，页面跳转\n    │   ├── admin.js\n    │   ├── index.js\n    │   ├── user-info.js\n    │   └── work.js\n    ├── models # 数据模型层 执行数据操作\n    │   └── user-Info.js\n    ├── routers # 路由层 控制路由\n    │   ├── admin.js\n    │   ├── api.js\n    │   ├── error.js\n    │   ├── home.js\n    │   ├── index.js\n    │   └── work.js\n    ├── services # 业务层 实现数据层model到操作层controller的耦合封装\n    │   └── user-info.js\n    └── views # 服务端模板代码\n        ├── admin.ejs\n        ├── error.ejs\n        ├── index.ejs\n        └── work.ejs\n")])])]),t("h3",{attrs:{id:"路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路由","aria-hidden":"true"}},[a._v("#")]),a._v(" 路由")]),a._v(" "),t("h3",{attrs:{id:"数据请求部分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据请求部分","aria-hidden":"true"}},[a._v("#")]),a._v(" 数据请求部分")]),a._v(" "),t("h3",{attrs:{id:"图片上传部分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图片上传部分","aria-hidden":"true"}},[a._v("#")]),a._v(" 图片上传部分")]),a._v(" "),t("h3",{attrs:{id:"日志文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日志文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 日志文件")]),a._v(" "),t("h3",{attrs:{id:"手写中间件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手写中间件","aria-hidden":"true"}},[a._v("#")]),a._v(" 手写中间件")]),a._v(" "),t("h3",{attrs:{id:"静态资源服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#静态资源服务器","aria-hidden":"true"}},[a._v("#")]),a._v(" 静态资源服务器")]),a._v(" "),t("h3",{attrs:{id:"cookie-session-redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie-session-redis","aria-hidden":"true"}},[a._v("#")]),a._v(" cookie session redis")]),a._v(" "),t("h3",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql","aria-hidden":"true"}},[a._v("#")]),a._v(" mysql")]),a._v(" "),t("h3",{attrs:{id:"mysql初始化建表操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql初始化建表操作","aria-hidden":"true"}},[a._v("#")]),a._v(" mysql初始化建表操作")]),a._v(" "),t("p",[a._v("通常初始化数据库要建立很多表，特别在项目开发的时候表的格式可能会有些变动，这时候就需要封装对数据库建表初始化的方法，保留项目的sql脚本文件，然后每次需要重新建表，则执行建表初始化程序就行")]),a._v(" "),t("h4",{attrs:{id:"流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程","aria-hidden":"true"}},[a._v("#")]),a._v(" 流程")]),a._v(" "),t("ol",[t("li",[a._v("遍历 db init下面sql文件")]),a._v(" "),t("li",[a._v("解析所有sql文件脚本内容")]),a._v(" "),t("li",[a._v("执行sql脚本")])]),a._v(" "),t("h4",{attrs:{id:"目录结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录结构","aria-hidden":"true"}},[a._v("#")]),a._v(" 目录结构")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("├── db   # sql脚本文件目录\n    ├── mysql.js # 封装的mysql模块方法\n    └── init # sql脚本文件目录\n        ├── data.sql\n        └── user.sql\n└── util    \n    ├── get-sql-content-map.js # 获取sql脚本文件内容\n    ├── get-sql-map.js # 获取所有sql脚本文件\n    └── walk-file.js # 遍历sql脚本文件\n")])])]),t("h3",{attrs:{id:"debugger"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#debugger","aria-hidden":"true"}},[a._v("#")]),a._v(" debugger")]),a._v(" "),t("h3",{attrs:{id:"单元测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单元测试","aria-hidden":"true"}},[a._v("#")]),a._v(" 单元测试")]),a._v(" "),t("h3",{attrs:{id:"jsonp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jsonp","aria-hidden":"true"}},[a._v("#")]),a._v(" JSONP")]),a._v(" "),t("p",[a._v("koa-jsonp")]),a._v(" "),t("h3",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx","aria-hidden":"true"}},[a._v("#")]),a._v(" nginx")])])}],!1,null,null,null);e.options.__file="koa实现完整博客后台.md";s.default=e.exports}}]);